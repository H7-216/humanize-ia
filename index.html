<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Memory Match Deluxe</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', sans-serif;
    }
    body {
      background: #0d0d0d;
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      padding: 20px;
    }
    h1 {
      margin: 10px 0;
      font-size: 2.5rem;
      color: #00f2ff;
      text-shadow: 0 0 10px #00f2ff;
    }
    .stats {
      display: flex;
      gap: 20px;
      margin-bottom: 20px;
      font-size: 1.1rem;
    }
    .game-board {
      display: grid;
      grid-template-columns: repeat(4, 90px);
      gap: 15px;
      margin-bottom: 20px;
    }
    .card {
      width: 90px;
      height: 90px;
      background-color: #111;
      border: 2px solid #00f2ff;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 2rem;
      position: relative;
      transition: transform 0.3s, background 0.3s;
    }
    .card span {
      visibility: hidden;
      transition: visibility 0.3s;
    }
    .card.flipped span {
      visibility: visible;
    }
    .card.flipped {
      background-color: #00f2ff;
      color: #000;
      transform: rotateY(180deg);
    }
    .card.matched {
      background-color: #00ff88;
      border-color: #00ff88;
      color: #000;
      cursor: default;
    }
    #restart {
      padding: 10px 20px;
      background: #00f2ff;
      border: none;
      border-radius: 8px;
      color: #000;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s;
      box-shadow: 0 0 10px #00f2ff;
    }
    #restart:hover {
      background: #00c3cc;
    }
    @media (max-width: 500px) {
      .game-board {
        grid-template-columns: repeat(3, 80px);
      }
      .card {
        width: 80px;
        height: 80px;
      }
    }
  </style>
</head>
<body>

  <h1>üß† Memory Match Deluxe</h1>
  <div class="stats">
    <div>‚è±Ô∏è Temps : <span id="timer">0</span>s</div>
    <div>üñ±Ô∏è Coups : <span id="clicks">0</span></div>
  </div>

  <div class="game-board" id="board"></div>
  <button id="restart">üîÅ Rejouer</button>

  <!-- Sounds -->
  <audio id="flipSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_94a7f84874.mp3" preload="auto"></audio>
  <audio id="matchSound" src="https://cdn.pixabay.com/download/audio/2022/02/23/audio_d678b40e47.mp3" preload="auto"></audio>
  <audio id="winSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_d7487083ae.mp3" preload="auto"></audio>

  <script>
    const board = document.getElementById('board');
    const restartBtn = document.getElementById('restart');
    const timerSpan = document.getElementById('timer');
    const clicksSpan = document.getElementById('clicks');
    const flipSound = document.getElementById('flipSound');
    const matchSound = document.getElementById('matchSound');
    const winSound = document.getElementById('winSound');

    const emojis = ['üçï','üöÄ','üê±','‚öΩ','üçî','üéÆ','üé≤','üêç'];
    let cards = [...emojis, ...emojis];
    let firstCard = null;
    let lockBoard = false;
    let clicks = 0;
    let timer = 0;
    let interval;

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function startTimer() {
      timer = 0;
      clearInterval(interval);
      interval = setInterval(() => {
        timer++;
        timerSpan.textContent = timer;
      }, 1000);
    }

    function stopTimer() {
      clearInterval(interval);
    }

    function createBoard() {
      board.innerHTML = '';
      shuffle(cards).forEach((emoji, index) => {
        const card = document.createElement('div');
        card.classList.add('card');
        card.dataset.emoji = emoji;
        card.dataset.index = index;
        card.innerHTML = `<span>${emoji}</span>`;
        card.addEventListener('click', flipCard);
        board.appendChild(card);
      });
      clicks = 0;
      clicksSpan.textContent = clicks;
      timerSpan.textContent = 0;
      startTimer();
    }

    function flipCard() {
      if (lockBoard || this.classList.contains('flipped') || this.classList.contains('matched')) return;

      flipSound.play();
      this.classList.add('flipped');
      clicks++;
      clicksSpan.textContent = clicks;

      if (!firstCard) {
        firstCard = this;
      } else {
        lockBoard = true;
        if (this.dataset.emoji === firstCard.dataset.emoji) {
          this.classList.add('matched');
          firstCard.classList.add('matched');
          matchSound.play();
          resetTurn();
        } else {
          setTimeout(() => {
            this.classList.remove('flipped');
            firstCard.classList.remove('flipped');
            resetTurn();
          }, 800);
        }
      }
    }

    function resetTurn() {
      firstCard = null;
      lockBoard = false;
      checkWin();
    }

    function checkWin() {
      const matched = document.querySelectorAll('.matched');
      if (matched.length === cards.length) {
        stopTimer();
        setTimeout(() => {
          winSound.play();
          alert(`üéâ Bravo ! Tu as gagn√© en ${timer}s et ${clicks} coups !`);
        }, 300);
      }
    }

    restartBtn.addEventListener('click', createBoard);

    createBoard();
  </script>
</body>
</html>