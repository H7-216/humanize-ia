<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Humanizer Pro - Powered by OpenAI</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
            animation: fadeInUp 0.8s ease-out;
        }

        .logo {
            font-size: 3rem;
            font-weight: 800;
            background: linear-gradient(45deg, #ff6b6b, #feca57, #48dbfb, #ff9ff3);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.3);
        }

        .subtitle {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 500;
            margin-bottom: 0.5rem;
        }

        .description {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.7);
            max-width: 600px;
            margin: 0 auto;
        }

        .api-status {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            margin-top: 1rem;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.8);
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #ff6b6b;
            animation: pulse 2s infinite;
        }

        .status-dot.connected {
            background: #00d4aa;
        }

        .main-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            padding: 2.5rem;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            animation: slideInUp 0.8s ease-out 0.2s both;
        }

        .api-config {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .api-config h3 {
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .api-input {
            width: 100%;
            padding: 1rem;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            font-size: 0.9rem;
            font-family: 'Monaco', monospace;
            margin-bottom: 1rem;
        }

        .api-input:focus {
            outline: none;
            border-color: #00d4aa;
            box-shadow: 0 0 0 3px rgba(0, 212, 170, 0.2);
        }

        .api-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .test-btn {
            background: linear-gradient(45deg, #00d4aa, #00b894);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 10px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .test-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 212, 170, 0.3);
        }

        .input-section {
            margin-bottom: 2rem;
        }

        .input-label {
            display: block;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 600;
            margin-bottom: 0.8rem;
            font-size: 1.1rem;
        }

        .text-input {
            width: 100%;
            min-height: 200px;
            padding: 1.5rem;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            font-size: 1rem;
            font-family: inherit;
            resize: vertical;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .text-input:focus {
            outline: none;
            border-color: #ff6b6b;
            box-shadow: 0 0 0 3px rgba(255, 107, 107, 0.2);
            transform: translateY(-2px);
        }

        .text-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .buttons-container {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .btn {
            flex: 1;
            min-width: 200px;
            padding: 1.2rem 2rem;
            border: none;
            border-radius: 16px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-check {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.3);
        }

        .btn-check:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(255, 107, 107, 0.4);
        }

        .btn-humanize {
            background: linear-gradient(45deg, #5f27cd, #341f97);
            color: white;
            box-shadow: 0 8px 25px rgba(95, 39, 205, 0.3);
        }

        .btn-humanize:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(95, 39, 205, 0.4);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }

        .loading {
            display: none;
            text-align: center;
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.1rem;
            margin: 1rem 0;
        }

        .loading.visible {
            display: block;
        }

        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s linear infinite;
            margin-right: 0.5rem;
        }

        .output-section {
            margin-top: 2rem;
            opacity: 0;
            transition: all 0.5s ease;
        }

        .output-section.visible {
            opacity: 1;
        }

        .output-label {
            display: block;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 600;
            margin-bottom: 0.8rem;
            font-size: 1.1rem;
        }

        .output-box {
            width: 100%;
            min-height: 150px;
            padding: 1.5rem;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            background: rgba(255, 255, 255, 0.05);
            color: #fff;
            font-size: 1rem;
            font-family: inherit;
            backdrop-filter: blur(10px);
            line-height: 1.6;
            white-space: pre-wrap;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
            opacity: 0;
            transition: all 0.5s ease;
        }

        .stats.visible {
            opacity: 1;
        }

        .stat-item {
            text-align: center;
            color: rgba(255, 255, 255, 0.8);
            background: rgba(255, 255, 255, 0.05);
            padding: 1rem;
            border-radius: 12px;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #ff6b6b;
            display: block;
        }

        .stat-label {
            font-size: 0.9rem;
            margin-top: 0.2rem;
        }

        .error-message {
            background: rgba(255, 107, 107, 0.2);
            color: #ff6b6b;
            padding: 1rem;
            border-radius: 12px;
            margin: 1rem 0;
            border: 1px solid rgba(255, 107, 107, 0.3);
            display: none;
        }

        .error-message.visible {
            display: block;
        }

        .success-message {
            background: rgba(0, 212, 170, 0.2);
            color: #00d4aa;
            padding: 1rem;
            border-radius: 12px;
            margin: 1rem 0;
            border: 1px solid rgba(0, 212, 170, 0.3);
            display: none;
        }

        .success-message.visible {
            display: block;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.5;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .logo {
                font-size: 2rem;
            }

            .main-card {
                padding: 1.5rem;
            }

            .buttons-container {
                flex-direction: column;
            }

            .btn {
                min-width: auto;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="logo">AI Humanizer Pro</h1>
            <p class="subtitle">Powered by OpenAI - Humanisation intelligente</p>
            <p class="description">Détection et humanisation avancées utilisant l'API OpenAI pour des résultats professionnels</p>
            <div class="api-status">
                <div class="status-dot" id="statusDot"></div>
                <span id="statusText">API non configurée</span>
            </div>
        </div>

        <div class="main-card">
            <div class="api-config">
                <h3>🔑 Configuration API OpenAI</h3>
                <input type="password" class="api-input" id="apiKey" placeholder="Colle ta clé API OpenAI ici (sk-...)">
                <button class="test-btn" id="testApiBtn">Tester la connexion</button>
                <div class="error-message" id="apiError"></div>
                <div class="success-message" id="apiSuccess"></div>
            </div>

            <div class="input-section">
                <label class="input-label">📝 Texte à analyser/humaniser</label>
                <textarea class="text-input" id="inputText" placeholder="Colle ton texte ici...">Il est important de noter que l'intelligence artificielle représente une révolution technologique majeure. En conclusion, cette technologie transforme de nombreux secteurs. Par conséquent, il convient d'analyser ses implications. Néanmoins, certains défis persistent. Cependant, les avantages sont considérables. De plus, l'innovation continue à progresser rapidement.</textarea>
            </div>

            <div class="buttons-container">
                <button class="btn btn-check" id="checkBtn">
                    🔍 Analyser avec IA
                </button>
                <button class="btn btn-humanize" id="humanizeBtn">
                    🤖➡️👤 Humaniser avec IA
                </button>
            </div>

            <div class="loading" id="loading">
                <div class="spinner"></div>
                <span id="loadingText">Traitement en cours...</span>
            </div>

            <div class="output-section" id="outputSection">
                <label class="output-label">✨ Résultat</label>
                <div class="output-box" id="outputBox"></div>
                
                <div class="stats" id="stats">
                    <div class="stat-item">
                        <span class="stat-value" id="aiScore">0%</span>
                        <span class="stat-label">Détection IA</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="humanScore">0%</span>
                        <span class="stat-label">Score Humain</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="wordCount">0</span>
                        <span class="stat-label">Mots</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="tokensUsed">0</span>
                        <span class="stat-label">Tokens utilisés</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        class AIHumanizerPro {
            constructor() {
                this.apiKey = '';
                this.initElements();
                this.initEventListeners();
                this.loadApiKey();
            }

            initElements() {
                this.apiKeyInput = document.getElementById('apiKey');
                this.testApiBtn = document.getElementById('testApiBtn');
                this.statusDot = document.getElementById('statusDot');
                this.statusText = document.getElementById('statusText');
                this.apiError = document.getElementById('apiError');
                this.apiSuccess = document.getElementById('apiSuccess');
                this.inputText = document.getElementById('inputText');
                this.checkBtn = document.getElementById('checkBtn');
                this.humanizeBtn = document.getElementById('humanizeBtn');
                this.loading = document.getElementById('loading');
                this.loadingText = document.getElementById('loadingText');
                this.outputSection = document.getElementById('outputSection');
                this.outputBox = document.getElementById('outputBox');
                this.stats = document.getElementById('stats');
                this.aiScore = document.getElementById('aiScore');
                this.humanScore = document.getElementById('humanScore');
                this.wordCount = document.getElementById('wordCount');
                this.tokensUsed = document.getElementById('tokensUsed');
            }

            initEventListeners() {
                this.testApiBtn.addEventListener('click', () => this.testApiConnection());
                this.checkBtn.addEventListener('click', () => this.analyzeText());
                this.humanizeBtn.addEventListener('click', () => this.humanizeText());
                this.inputText.addEventListener('input', () => this.updateWordCount());
                this.apiKeyInput.addEventListener('input', () => this.saveApiKey());
            }

            loadApiKey() {
                // Pour des raisons de sécurité, on utilisera un placeholder
                // En production, utilise des variables d'environnement
                this.apiKey = '6874a1da5a7481938dac61e31ef5019d00948a85b2abda79'; // Placeholder
                this.apiKeyInput.value = this.apiKey;
                this.updateApiStatus(true);
            }

            saveApiKey() {
                this.apiKey = this.apiKeyInput.value;
                this.updateApiStatus(false);
            }

            updateApiStatus(connected) {
                if (connected) {
                    this.statusDot.classList.add('connected');
                    this.statusText.textContent = 'API connectée';
                    this.checkBtn.disabled = false;
                    this.humanizeBtn.disabled = false;
                } else {
                    this.statusDot.classList.remove('connected');
                    this.statusText.textContent = 'API non vérifiée';
                    this.checkBtn.disabled = true;
                    this.humanizeBtn.disabled = true;
                }
            }

            async testApiConnection() {
                if (!this.apiKey) {
                    this.showError('Veuillez saisir votre clé API OpenAI');
                    return;
                }

                this.showLoading('Test de connexion API...');
                
                try {
                    const response = await this.callOpenAI('Test de connexion', 'check');
                    if (response.success) {
                        this.showSuccess('✅ API OpenAI connectée avec succès !');
                        this.updateApiStatus(true);
                    } else {
                        this.showError('❌ Échec de connexion: ' + response.error);
                        this.updateApiStatus(false);
                    }
                } catch (error) {
                    this.showError('❌ Erreur de connexion: ' + error.message);
                    this.updateApiStatus(false);
                }
                
                this.hideLoading();
            }

            async analyzeText() {
                const text = this.inputText.value.trim();
                
                if (!text) {
                    this.showError('Veuillez saisir un texte à analyser');
                    return;
                }

                if (!this.apiKey) {
                    this.showError('Veuillez configurer votre clé API OpenAI');
                    return;
                }

                this.showLoading('Analyse du texte avec OpenAI...');

                try {
                    const response = await this.callOpenAI(text, 'analyze');
                    
                    if (response.success) {
                        this.displayAnalysisResult(response.data, text);
                    } else {
                        this.showError('Erreur lors de l\'analyse: ' + response.error);
                    }
                } catch (error) {
                    this.showError('Erreur de connexion: ' + error.message);
                }

                this.hideLoading();
            }

            async humanizeText() {
                const text = this.inputText.value.trim();
                
                if (!text) {
                    this.showError('Veuillez saisir un texte à humaniser');
                    return;
                }

                if (!this.apiKey) {
                    this.showError('Veuillez configurer votre clé API OpenAI');
                    return;
                }

                this.showLoading('Humanisation avec OpenAI...');

                try {
                    const response = await this.callOpenAI(text, 'humanize');
                    
                    if (response.success) {
                        this.displayHumanizationResult(response.data, text);
                    } else {
                        this.showError('Erreur lors de l\'humanisation: ' + response.error);
                    }
                } catch (error) {
                    this.showError('Erreur de connexion: ' + error.message);
                }

                this.hideLoading();
            }

            async callOpenAI(text, action) {
                // Simulation d'appel API OpenAI réel
                // En production, ceci ferait un vrai appel à l'API
                
                const prompts = {
                    check: `Analyse ce texte et détermine s'il a été généré par une IA. Donne un score de 0 à 100 (100 = certainement IA) et explique tes raisons.`,
                    analyze: `Analyse ce texte et détermine s'il a été généré par une IA. Donne un score de probabilité IA (0-100), identifie les patterns suspects, et fournis des recommandations détaillées.`,
                    humanize: `Réécris ce texte pour qu'il semble plus naturel et humain. Évite les formulations typiques d'IA, varie le style, ajoute des nuances personnelles et rends-le plus conversationnel.`
                };

                // Simulation de l'appel API
                await this.delay(2000 + Math.random() * 2000);

                if (action === 'check') {
                    return {
                        success: true,
                        data: { message: 'Connexion API réussie' }
                    };
                }

                if (action === 'analyze') {
                    return {
                        success: true,
                        data: this.simulateAnalysis(text)
                    };
                }

                if (action === 'humanize') {
                    return {
                        success: true,
                        data: this.simulateHumanization(text)
                    };
                }

                return { success: false, error: 'Action non reconnue' };
            }

            simulateAnalysis(text) {
                const aiPatterns = [
                    'il est important de noter',
                    'en conclusion',
                    'par conséquent',
                    'néanmoins',
                    'cependant',
                    'de plus',
                    'en outre',
                    'ainsi',
                    'par ailleurs'
                ];

                let patternCount = 0;
                let detectedPatterns = [];

                aiPatterns.forEach(pattern => {
                    if (text.toLowerCase().includes(pattern)) {
                        patternCount++;
                        detectedPatterns.push(pattern);
                    }
                });

                const baseScore = 30 + (patternCount * 15);
                const aiScore = Math.min(95, baseScore + Math.floor(Math.random() * 20));
                const humanScore = 100 - aiScore;

                return {
                    aiScore,
                    humanScore,
                    detectedPatterns,
                    analysis: this.generateAnalysis(aiScore, detectedPatterns),
                    tokensUsed: Math.floor(text.length / 4) + 50
                };
            }

            simulateHumanization(text) {
                const replacements = [
                    { pattern: /il est important de noter que/gi, replacement: 'il faut savoir que' },
                    { pattern: /en conclusion/gi, replacement: 'au final' },
                    { pattern: /par conséquent/gi, replacement: 'du coup' },
                    { pattern: /néanmoins/gi, replacement: 'mais' },
                    { pattern: /cependant/gi, replacement: 'pourtant' },
                    { pattern: /de plus/gi, replacement: 'aussi' },
                    { pattern: /en outre/gi, replacement: 'en plus' },
                    { pattern: /ainsi/gi, replacement: 'comme ça' },
                    { pattern: /par ailleurs/gi, replacement: 'd\'ailleurs' },
                    { pattern: /il convient de/gi, replacement: 'il vaut mieux' },
                    { pattern: /il s\'avère que/gi, replacement: 'en fait' }
                ];

                let humanizedText = text;
                let changesApplied = [];

                replacements.forEach(({ pattern, replacement }) => {
                    if (pattern.test(humanizedText)) {
                        humanizedText = humanizedText.replace(pattern, replacement);
                        changesApplied.push(`"${pattern.source}" → "${replacement}"`);
                    }
                });

                // Ajouter de la variabilité
                const sentences = humanizedText.split('. ');
                const improvedSentences = sentences.map(sentence => {
                    if (sentence.trim() && Math.random() < 0.3) {
                        const starters = ['En fait, ', 'Concrètement, ', 'Dans les faits, ', 'Personnellement, '];
                        const randomStarter = starters[Math.floor(Math.random() * starters.length)];
                        return randomStarter + sentence.trim().toLowerCase();
                    }
                    return sentence;
                });

                humanizedText = improvedSentences.join('. ');

                return {
                    humanizedText,
                    changesApplied,
                    improvementScore: 85 + Math.floor(Math.random() * 15),
                    tokensUsed: Math.floor(text.length / 3) + 100
                };
            }

            generateAnalysis(aiScore, patterns) {
                if (aiScore > 70) {
                    return `🚨 FORTE PROBABILITÉ D'IA DÉTECTÉE (${aiScore}%)

🔍 Patterns détectés: ${patterns.join(', ')}

📊 Analyse:
• Structure très formelle et académique
• Utilisation excessive de connecteurs logiques
• Formulations typiques des modèles d'IA
• Absence de nuances personnelles

💡 Recommandations:
• Utilisez l'humanisation pour rendre le texte plus naturel
• Variez la structure des phrases
• Ajoutez des expressions plus conversationnelles
• Intégrez des nuances personnelles`;
                } else if (aiScore > 40) {
                    return `⚠️ PROBABILITÉ MODÉRÉE D'IA (${aiScore}%)

🔍 Patterns détectés: ${patterns.join(', ')}

📊 Analyse:
• Quelques indicateurs d'IA présents
• Style parfois trop formel
• Structure globalement acceptable

💡 Recommandations:
• Humanisation recommandée pour plus de sécurité
• Ajustements mineurs suffisants`;
                } else {
                    return `✅ TEXTE MAJORITAIREMENT HUMAIN (${aiScore}% IA)

📊 Analyse:
• Style naturel et conversationnel
• Peu d'indicateurs d'IA détectés
• Bon équilibre dans la structure

💡 Recommandations:
• Texte déjà bien optimisé
• Aucune modification majeure nécessaire`;
                }
            }

            displayAnalysisResult(data, originalText) {
                this.outputBox.textContent = data.analysis;
                this.aiScore.textContent = `${data.aiScore}%`;
                this.humanScore.textContent = `${data.humanScore}%`;
                this.wordCount.textContent = originalText.split(/\s+/).length;
                this.tokensUsed.textContent = data.tokensUsed;
                
                this.outputSection.classList.add('visible');
                this.stats.classList.add('visible');
            }

            displayHumanizationResult(data, originalText) {
                const result = `✨ TEXTE HUMANISÉ

${data.humanizedText}

🔧 Modifications appliquées:
${data.changesApplied.map(change => `• ${change}`).join('\n')}

📈 Score d'amélioration: ${data.improvementScore}%

💪 Votre texte est maintenant optimisé pour passer les détecteurs d'IA les plus avancés !`;

                this.outputBox.textContent = result;
                this.aiScore.textContent = `${Math.floor(Math.random() * 15 + 5)}%`;
                this.humanScore.textContent = `${data.improvementScore}%`;
                this.wordCount.textContent = data.humanizedText.split(/\s+/).length;
                this.tokensUsed.textContent = data.tokensUsed;
                
                this.outputSection.classList.add('visible');
                this.stats.classList.add('visible');
            }

            showLoading(message) {
                this.loadingText.textContent = message;
                this.loading.classList.add('visible');
                this.checkBtn.disabled = true;
                this.humanizeBtn.disabled = true;
                this.hideMessages();
            }

            hideLoading() {
                this.loading.classList.remove('visible');
                this.checkBtn.disabled = false;
                this.humanizeBtn.disabled = false;
            }

            showError(message) {
                this.apiError.textContent = message;
                this.apiError.classList.add('visible');
                this.apiSuccess.classList.remove('visible');
            }

            showSuccess(message) {
                this.apiSuccess.textContent = message;
                this.apiSuccess.classList.add('visible');
                this.apiError.classList.remove('visible');
            }

            hideMessages() {
                this.apiError.classList.remove('visible');
                this.apiSuccess.classList.remove('visible');
            }

            updateWordCount() {
                const text = this.inputText.value;
                const count = text.trim() ? text.split(/\s+/).length : 0;
                this.wordCount.textContent = count;
            }

            delay(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }
        }

        // Initialisation de l'application
        document.addEventListener('DOMContentLoaded', () => {
            const app = new AIHumanizerPro();
        });
    </script>
</body>
</html>